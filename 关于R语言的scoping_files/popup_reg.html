<!DOCTYPE html>
<html lang="zh-CN"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="UTF-8">
  <title>注册引导</title>
<style type="text/css">
html{color:#111;background:#fff}body,div,dl,dt,dd,ul,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,button,textarea,blockquote{margin:0;padding:0}table{border-collapse:collapse;border-spacing:0}fieldset,img{border:0}address,caption,cite,code,dfn,em,i,strong,th,var,optgroup{font-style:normal;font-weight:normal}ul,ol{list-style:none}caption,th{text-align:left}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal}q:before,q:after{content:""}abbr,acronym{border:0;font-variant:normal}sup{vertical-align:baseline}sub{vertical-align:baseline}legend{color:#000}input,button,textarea,select,optgroup,option{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit}input,button,textarea,select{*font-size:100%}pre{white-space:pre-wrap;word-wrap:break-word}a{cursor:pointer}a:link{color:#37a;text-decoration:none}a:visited{color:#669;text-decoration:none}a:hover{color:#fff;text-decoration:none;background:#37a}a:active{color:#fff;text-decoration:none;background:#f93}a img{border-width:0;vertical-align:middle}body,td,th{font:12px Helvetica,Arial,sans-serif;line-height:1.62}table{border-collapse:collapse;border:0;padding:0;margin:0}wbr:after{content:"\00200B"}textarea{resize:none}input[type=text]:focus,input[type=password]:focus,textarea:focus{outline:0}html,body{width:100%;height:100%}.list{overflow:hidden;zoom:1}.list ul{letter-spacing:-0.31em;*letter-spacing:normal;word-spacing:-0.43em}.list li{display:inline-block;*display:inline;zoom:1;width:33.3%;vertical-align:top;letter-spacing:normal;word-spacing:normal}.group-item .pic{float:left;margin-right:12px}.group-item .info{overflow:hidden;zoom:1;margin-right:24px}.group-item .title{margin-bottom:10px;line-height:1.3;font-size:14px}.group-item .members{margin-bottom:10px;font-size:14px;color:#666}.group-item .members i{color:#072}.group-item p{margin:0 0 10px;color:#666;max-height:13em;_height:6.2em;overflow:hidden;word-break:break-all;word-wrap:break-word}.lnk-selection{display:inline-block;*display:inline;zoom:1;width:80px;line-height:1.8;*height:1.8em;*line-height:1.9;*overflow:hidden;text-align:center;border-radius:3px}.lnk-selection:link,.lnk-selection:visited,.lnk-selection:hover,.lnk-selection:active{background-color:#3fa156;color:#fff}.lnk-selection:hover,.lnk-selection:active{background-color:#44af5d}.selected:link,.selected:visited,.selected:hover,.selected:active{background-color:#ccc;color:#fff}.selected:hover,.selected:active{background-color:#ccc}

.mod-login,
.mod-register {
  width: 78%;
  margin: auto;
}
.mod-login .item input,
.mod-register .item input {
  width: 78%;
}
h1 { 
  width: 78%;
  margin:0 auto 12px;
  font-size:18px;
  color: #072;
}
.mod-register-error {
  position: absolute;
  top: 10px;
  left: 40px;
}
.lnk-reg-entry, 
.lnk-login-entry {
  display: inline-block;
  *display: inline;
  zoom: 1;
  padding: 0 14px;
  vertical-align: middle;
  background: #edf7ef;
  line-height: 1.8;
}
.lnk-reg-entry:link,
.lnk-reg-entry:visited,
.lnk-reg-entry:hover,
.lnk-reg-entry:active,
.lnk-login-entry:link,
.lnk-login-entry:visited,
.lnk-login-entry:hover,
.lnk-login-entry:active { color:#072;background:#edf7ef; }

</style>
<script>
window.Douban=window.Douban||{};var Do=function(){Do.actions.push([].slice.call(arguments))};Do.ready=function(){Do.actions.push([].slice.call(arguments))};Do.add=Do.define=function(a,b){Do.mods[a]=b};Do.global=function(){Do.global.mods=Array.prototype.concat(Do.global.mods,[].slice.call(arguments))};Do.global.mods=[];Do.mods={};Do.actions=[];function set_cookie(g,f,d,e){var b=new Date(),a,c;b.setTime(b.getTime()+((f||30)*24*60*60*1000));a="; expires="+b.toGMTString();for(c in g){document.cookie=c+"="+g[c]+a+"; domain="+(d||"douban.com")+"; path="+(e||"/")}}function get_cookie(b){var e=b+"=",a=document.cookie.split(";"),d,f;for(d=0;d<a.length;d++){f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)===0){return f.substring(e.length,f.length).replace(/\"/g,"")}}return null}Douban.init_show_login=function(a){Do("dialog",function(){var b="/j/misc/login_form";dui.Dialog({title:"登录",url:b,width:/device-mobile/i.test(document.documentElement.className)?document.documentElement.offsetWidth*0.9:350,cache:true,callback:function(c,d){d.node.addClass("dialog-login");d.node.find("h2").css("display","none");d.node.find(".hd h3").replaceWith(d.node.find(".bd h3"));d.node.find("form").css({border:"none",width:"auto",padding:"0"});d.update()}}).open()})};Do(function(){(function(){if("localStorage" in window){return}window.localStorage=function(){var e=document;if(!e.documentElement.addBehavior){throw"don't support localstorage or userdata.";return}var c="_localstorage_ie";var d=e.createElement("input");d.type="hidden";var b=function(f){return function(){e.body.appendChild(d);d.addBehavior("#default#userData");var h=new Date();h.setDate(h.getDate()+365);d.expires=h.toUTCString();d.load(c);var g=f.apply(d,arguments);e.body.removeChild(d);return g}};return{getItem:b(function(f){return this.getAttribute(f)}),setItem:b(function(f,g){this.setAttribute(f,g);this.save(c)}),removeItem:b(function(f){this.removeAttribute(f);this.save(c)}),clear:b(function(){var g=this.XMLDocument.documentElement.attributes;for(var h=0,f;f=g[h];h++){this.removeAttribute(f.name)}this.save(c)})}}()})();$(window).one("load",function(){var b=localStorage.getItem("report");if(!b){return}b=b.split("_moreurl_separator_");var c=function(d){if(d==""){c(b.shift());return}$.get(typeof _MOREURL_REQ=="undefined"?"/stat.html?"+d:_MOREURL_REQ+"?"+d,function(){if(b.length){c(b.shift());localStorage.setItem("report",b.join("_moreurl_separator_"));return}localStorage.removeItem("report")})};c(b.shift())});function a(b,e){var d=["ref="+encodeURIComponent(location.pathname)];for(var c in e){if(e.hasOwnProperty(c)){d.push(c+"="+e[c])}}if(window._SPLITTEST){d.push("splittest="+window._SPLITTEST)}localStorage.setItem("report",(localStorage.getItem("report")||"")+"_moreurl_separator_"+d.join("&"))}window.moreurl=a;$(document).click(function(c){var d=c.target,b=$(d).data("moreurl-dict");if(b){a(d,b)}});$.ajax_withck=function(b){if(b.type=="POST"){b.data=$.extend(b.data||{},{ck:get_cookie("ck")})}return $.ajax(b)};$.postJSON_withck=function(b,c,d){return $.post_withck(b,c,d,"json")};$.post_withck=function(b,d,e,c){if($.isFunction(d)){c=e;e=d;d={}}return $.ajax({type:"POST",url:b,data:$.extend(d,{ck:get_cookie("ck")}),success:e,dataType:c||"text"})};$("html").click(function(d){var b=$(d.target),c=b.attr("class");if(!c){return}$(c.match(/a_(\w+)/gi)).each($.proxy(function(e,g){var f=Douban[g.replace(/^a_/,"init_")];if(typeof f==="function"){d.preventDefault();f.call(this,d)}},b[0]))})});
</script>
<link rel="stylesheet" href="popup_reg_data/7c9cdfe19f4303f6.css">
</head>
<body>
<div id="header">

</div>
<div id="content">

<h1>欢迎加入豆瓣</h1>









<div class="mod-register">
<form id="frm-reg" name="lzform" method="post" action="https://www.douban.com/accounts/register" target="_top">
    <div style="display:none;">
        <input name="redir" value="http://www.douban.com/note/269216547/" type="hidden">
        <input name="popsource" value="note" type="hidden">
        <img src="popup_reg_data/blank.gif" onload="document.lzform.action='https://www.douban.com/accounts/register'">
    </div>

    <div class="item item-inp">
        <label>邮箱</label>
        <input id="email" name="form_email" class="basic-input" maxlength="60" tabindex="1" type="text">
    </div>
    
    <div class="item item-inp">
        <label>密码</label>
        <input id="password" name="form_password" class="basic-input" tabindex="2" maxlength="20" type="password">
    </div>

    <div class="item item-inp">
        <label>名号</label>
        <input id="name" name="form_name" class="basic-input" maxlength="15" tabindex="3" type="text">
        <span class="tips">起个响亮的名号吧</span>
    </div>

    <div class="item item-inp captcha-item">
        <label>验证码</label>
        
        <img src="popup_reg_data/captcha.jpg" class="captcha-img" title="点击换一张">
        <input name="captcha-solution" class="basic-input captcha" id="captcha" tabindex="4" maxlength="10" type="text">
        <input value="xDyIawIt5r4AiFgh1wNcoZIr:zh" name="captcha-id" type="hidden">
    </div>

    <div class="item item-tos">
        <input id="agreement" name="form_agreement" tabindex="5" type="checkbox"><label for="agreement" class="agreement-label">我已经认真阅读并同意豆瓣的《<a target="_blank" href="http://www.douban.com/about?policy=agreement">使用协议</a>》。</label>
    </div>

    <input value="on" name="form_agreement" type="hidden">
    <input value="on" name="no_loc" type="hidden">
    <div class="item-submit">
        <input value="注册" class="btn-submit" tabindex="6" type="submit">
        <a rel="nofollow" href="http://www.douban.com/accounts/popup_login?redir=http://www.douban.com/note/269216547/&amp;source=note" class="lnk-reg-entry">已有帐号，直接登录</a>
    </div>
</form>
</div>

<script>
Do(
{path: 'http://img3.douban.com/f/shire/acc10aa47ee2ad58fa7b7a63575e4ad663d073ff/js/lib/validate.js', type: 'js'},
function() {

  $('.item').click(function() {
    $(this).find(':input').focus();
  });

  $('.item .tips').click(function() {
    $(this).hide().parent().find(':input').focus();
  });

  $('input[name=form_name]')
  .focus(function(e) {
    $(this).parent().find('.tips').hide();
  })
  .blur(function(e) {
    if (this.value === '') {
      $(this).parent().find('.tips').show();
    }
  });

var 
    passwd_reg = /^[\u4e00-\u9fa5]/,
    validateError = {
        email: {
            isNull: '不能为空',
            invalidFormat: '格式不正确',
            unableForTom: '不支持的邮箱',
            unableForChongseo: '不支持的邮箱'
        },
        password: {
            isNull: '不能为空',
            isShort: '不足8个字符',
            invalidFormat: '请使用英文字母/符号/数字',
            invalidStrong: '至少包含字母和数字，最短8个字符'
        },
        name: {
            isNull: '不能为空',
            isLong: '最多14个英文或7个汉字'
        },
        captcha: {
            isNull: '不能为空'
        },
        tos: {
            noSelected: '此项为必选项'
        }
    },
    validateRules = {
        email: {
            elems: 'input[name=form_email]',
            isNull: function(el) {
                return !$.trim(el.val());
            },
            invalidFormat: function(el) {
                  return !$.validate.isEmail($.trim(el.val()));
            },
            unableForTom: function(el,o) {
                var domain = el.val().split('@')[1];
                return domain == 'tom.com';
            },
            unableForChongseo: function(el,o) {
                var domain = el.val().split('@')[1];
                return domain == 'chongseo.cn';
            }

        },
        password: {
            elems: 'input[name=form_password]',
            isNull: function(el) {
                var s = $.trim(el.val());
                if ( s === '' ) return true;
            },
            isShort: function(el) {
                var s = $.trim(el.val());
                if ( s !='' && s.length < 8 ) {
                    return true;
                }
            },
            invalidFormat: function(el) {
                var s = $.trim(el.val());
                return passwd_reg.test(s);
            },
            invalidStrong: function(el) {
                var s = $.trim(el.val());
                if (!(/\d/.test(s))){
                    return true;
                }
                if (!(/[a-zA-Z\~\)\!\$\%\*\(\_\+\-\=\{\}\[\]\|\:\;\<\>\?\,\.\/\@\#\^\"\'\`\?\&]/.test(s)))
                {
                    return true;
                }
            }
        },
        name: {
            elems: 'input[name=form_name]',
            isNull: function(el) {
                return !$.trim(el.val());
            },
            isLong: function(el) {
                return $.trim(el.val()).replace(/[^\x00-\xff]/g, '豆瓣').length <= 14 ? false : true;
            }
        },
        captcha: {
            elems: 'input[name=captcha-solution]',
            isNull: function(el) {
                return !$.trim(el.val());
            }

        },
        tos: {
            elems: 'input[name=form_agreement]',
            noSelected : function(el) {
              return !$('#agreement')[0].checked;
            }
        }
    };
    $('#frm-reg').validateForm(validateRules, validateError, null, null);

    var cap_img = $('.captcha-img').click(function(){
        var url = 'http://www.douban.com/j/misc/reg_captcha';
        $.getJSON(url, function(j){
            cap_img.attr('src',j.url);
            cap_img.parent().find('input[name=captcha-id]').val(j.token);
        });
    });
});
</script>



</div>
<div id="footer">

</div>
<script async="true" src="%E5%85%B3%E4%BA%8ER%E8%AF%AD%E8%A8%80%E7%9A%84scoping_files/jquery.js" type="text/javascript"></script><script async="true" src="popup_reg_data/validate.js" type="text/javascript"></script><script src="popup_reg_data/_init_.js" data-cfg-corelib="http://img3.douban.com/f/shire/8033e1c2528bb6402c478e00176afb3562abbc21/js/jquery.min.js"></script>
<script>

</script>

<script>var _check_hijack = function () {
    var _sig = "/YnDVWFi", _login = false, bid = get_cookie('bid');
    if (location.protocol != "file:" && (
            typeof(bid) != "string" && _login ||
            typeof(bid) == "string" && bid.substring(0,8) != _sig)) {
        location.href += (/\?/.test(location.href)?"&":"?") + (
                "_r=" + Math.random().toString(16).substring(2));
    }};
if (typeof(Do) != 'undefined') Do(_check_hijack);
else if (typeof(get_cookie) != 'undefined') _check_hijack();
</script>







</body></html>